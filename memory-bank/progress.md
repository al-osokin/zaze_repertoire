# Прогресс проекта "Администрирование Афиши Театра"

## Что работает:
*   Система парсинга расписания с сайта театра и сохранения событий в `events_raw`.
*   Автоматическое сопоставление спектаклей.
*   Интерфейсы «Парсинг афиши» и «Создать вручную».
*   Управление спектаклями и шаблонами.
*   Административный вход.
*   Парсинг шаблонов спектаклей для извлечения ролей и артистов (после исправления проблемы с тире).
*   Генерация заголовков второго и третьего уровня в карточках спектаклей.

## Что осталось построить:
*   Полная реализация новой структуры базы данных (таблицы `artists`, `roles`, `performance_roles_artists`, `role_artist_history` и модификации `events_raw`).
*   Разработка класса `PlayTemplateParser` для сохранения ролей и артистов в новые таблицы.
*   Скрипт для первоначального заполнения ролей и артистов из существующих шаблонов.
*   Интерфейс пользователя для редактирования состава (`edit_cast.php`).
*   Интеграция с VK API для публикации афиши из приложения (дальнейшие планы).
*   Автоматическое сохранение последней сгенерированной афиши в `repertoire_history` по команде (дальнейшие планы).

## Текущий статус:
*   Основная проблема с парсингом шаблонов решена.
*   Начата работа по реорганизации файлов памяти проекта.
*   Базовая структура проекта и его функционал описаны в новых файлах памяти.

## Известные проблемы:
*   Некоторые шаблоны спектаклей отсутствуют или пусты, что приводит к предупреждениям в `check_templates.php`. Это ожидаемое поведение и не является критической проблемой для текущей задачи.

## Эволюция проектных решений:
*   Переход от модификации парсера для обработки разных типов тире к стандартизации тире в шаблонах для упрощения логики и единообразия.
*   Принятие решения о создании структурированной папки `memory-bank` для улучшения управления контекстом проекта.
