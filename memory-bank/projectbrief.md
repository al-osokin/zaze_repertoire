# Краткое описание проекта "Администрирование Афиши Театра"

## Основные цели:
Проект направлен на автоматизацию и улучшение процесса управления афишей театра "Зазеркалье". Основные задачи включают:
1.  **Удобное назначение артистов:** Предоставление диалоговой формы для выбора артистов на роли в каждом представлении.
2.  **Гибкость назначений:** Учет того, что один артист может играть несколько ролей, и на одной роли может быть несколько исполнителей.
3.  **Автоматизация заполнения:** Запоминание предпочтительных артистов для каждой роли.
4.  **Расширенный список исполнителей:** Учет не только актеров, но и дирижеров, пианистов и т.д.
5.  **Парсинг шаблонов:** Автоматическое извлечение ролей и начального состава из существующих шаблонов `play_templates`.
6.  **Генерация карточек:** Формирование готовой вики-разметки для карточки спектакля с назначенным составом.

## Текущая ситуация:
*   Реализовано формирование месячной афиши спектаклей на PHP + MariaDB.
*   Таблица `plays` содержит список спектаклей.
*   Таблица `play_templates` содержит шаблоны карточек спектаклей в вики-разметке.
*   Таблица `events_raw` содержит информацию о конкретных представлениях (афиша).
*   Карточки публикуются в VK, но состав заполняется вручную.

## Основные возможности существующей системы:
- Парсинг расписания с сайта театра и сохранение событий в таблицу `events_raw`.
- Автоматическое сопоставление спектаклей по полному названию (`site_title`) с нормализацией написаний («ё» → «е» и т.п.).
- Интерфейс «Парсинг афиши»: загрузка выбранного месяца, просмотр всех найденных событий, корректировка сопоставлений и мгновенное получение wiki/TSV текста с кнопками копирования.
- Интерфейс «Создать вручную»: преобразование табличного черновика в wiki-разметку без участия парсера.
- Управление спектаклями: хранятся основные данные, ссылки на wiki-страницы, отметки «абонемент», шаблоны страниц и точные названия с сайта.
- Административный вход по логину/паролю (учётные записи находятся в таблице `users`).
